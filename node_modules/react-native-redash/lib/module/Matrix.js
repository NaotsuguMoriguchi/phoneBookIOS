import Animated from"react-native-reanimated";var and=Animated.and,add=Animated.add,cond=Animated.cond,eq=Animated.eq,multiply=Animated.multiply,sqrt=Animated.sqrt,cos=Animated.cos,sin=Animated.sin,sub=Animated.sub,lessThan=Animated.lessThan,divide=Animated.divide,greaterOrEq=Animated.greaterOrEq,atan=Animated.atan,pow=Animated.pow;var exhaustiveCheck=function exhaustiveCheck(a){throw new Error("Unexhaustive handling for "+a);};var identityMatrix=[[1,0,0],[0,1,0],[0,0,1]];var translateXMatrix=function translateXMatrix(x){return[[1,0,x],[0,1,0],[0,0,1]];};var translateYMatrix=function translateYMatrix(y){return[[1,0,0],[0,1,y],[0,0,1]];};var scaleMatrix=function scaleMatrix(s){return[[s,0,0],[0,s,0],[0,0,1]];};var scaleXMatrix=function scaleXMatrix(s){return[[s,0,0],[0,1,0],[0,0,1]];};var scaleYMatrix=function scaleYMatrix(s){return[[1,0,0],[0,s,0],[0,0,1]];};var rotateZMatrix=function rotateZMatrix(r){return[[cos(r),multiply(-1,sin(r)),0],[sin(r),cos(r),0],[0,0,1]];};var multiplyRowByCol=function multiplyRowByCol(row,col){return add(multiply(row[0],col[0]),multiply(row[1],col[1]),multiply(row[2],col[2]));};var multiply4=function multiply4(m1,m2){var col0=[m2[0][0],m2[1][0],m2[2][0]];var col1=[m2[0][1],m2[1][1],m2[2][1]];var col2=[m2[0][2],m2[1][2],m2[2][2]];return[[multiplyRowByCol(m1[0],col0),multiplyRowByCol(m1[0],col1),multiplyRowByCol(m1[0],col2)],[multiplyRowByCol(m1[1],col0),multiplyRowByCol(m1[1],col1),multiplyRowByCol(m1[1],col2)],[multiplyRowByCol(m1[2],col0),multiplyRowByCol(m1[2],col1),multiplyRowByCol(m1[2],col2)]];};export var accumulatedTransform=function accumulatedTransform(transforms){var matrix=transforms.reduce(function(acc,transform){var key=Object.keys(transform)[0];var value=transform[key];if(key==="translateX"){return multiply4(acc,translateXMatrix(value));}if(key==="translateY"){return multiply4(acc,translateYMatrix(value));}if(key==="scale"){return multiply4(acc,scaleMatrix(value));}if(key==="scaleX"){return multiply4(acc,scaleXMatrix(value));}if(key==="scaleY"){return multiply4(acc,scaleYMatrix(value));}if(key==="rotate"||key==="rotateZ"){return multiply4(acc,rotateZMatrix(value));}return exhaustiveCheck(key);},identityMatrix);var row0x=matrix[0][0];var row0y=matrix[1][0];var row1x=matrix[0][1];var row1y=matrix[1][1];var translateX=matrix[0][2];var translateY=matrix[1][2];var scaleXAbs=sqrt(add(pow(row0x,2),pow(row0y,2)));var scaleYAbs=sqrt(add(pow(row1x,2),pow(row1y,2)));var determinant=sub(multiply(row0x,row1y),multiply(row0y,row1x));var scaleX=multiply(cond(and(lessThan(determinant,0),lessThan(row0x,row1y)),-1,1),scaleXAbs);var scaleY=multiply(cond(and(lessThan(determinant,0),greaterOrEq(row0x,row1y)),-1,1),scaleYAbs);var row0y1=divide(row0y,scaleX);var row0x1=divide(row0x,scaleX);var rotateZ=atan(divide(row0y1,row0x1));var scale=cond(eq(scaleX,scaleY),scaleX,1);return{translateX:translateX,translateY:translateY,scaleX:scaleX,scaleY:scaleY,scale:scale,rotateZ:rotateZ,rotate:rotateZ};};
//# sourceMappingURL=Matrix.js.map