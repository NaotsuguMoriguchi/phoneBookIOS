{"version":3,"sources":["Vectors.ts"],"names":["Animated","clamp","clamp1","Value","block","create","x","y","createValue","isAdaptable","value","Node","get","vectors","dimension","map","vector","apply","fn","add","sub","dot","multiply","div","divide","cos","sin","min","max","minVec","maxVec","invert","a","set","b","vec"],"mappings":"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","sourcesContent":["import Animated from \"react-native-reanimated\";\n\nimport { clamp as clamp1 } from \"./Math\";\n\nconst { Value, block } = Animated;\ntype Dimension = \"x\" | \"y\";\ntype Fn = (...args: Animated.Adaptable<number>[]) => Animated.Node<number>;\ntype Adaptable = Vector | Animated.Adaptable<number>;\ntype SingleArgOp<T extends Adaptable = Adaptable> = [T];\ntype BinArgOp<T extends Adaptable = Adaptable> = [T, T, ...T[]];\n\nexport interface Vector<\n  T extends Animated.Adaptable<number> = Animated.Adaptable<number>\n> {\n  x: T;\n  y: T;\n}\n\ntype Create = {\n  (): Vector<0>;\n  <T extends Animated.Adaptable<number>>(x: T, y?: T): Vector<T>;\n};\n\nconst create: Create = <T extends Animated.Adaptable<number>>(\n  x?: T,\n  y?: T\n) => ({\n  x: x ?? 0,\n  y: y ?? x ?? 0,\n});\n\nconst createValue = (x = 0, y?: number) =>\n  create(new Value(x), new Value(y ?? x));\n\nconst isAdaptable = (value: Adaptable): value is Animated.Adaptable<number> =>\n  typeof value === \"number\" ||\n  value instanceof Animated.Node ||\n  value instanceof Animated.Value;\n\nconst get = (vectors: Adaptable[], dimension: Dimension) =>\n  vectors.map((vector) => (isAdaptable(vector) ? vector : vector[dimension]));\n\nconst apply = (fn: Fn, ...vectors: Adaptable[]) => ({\n  x: fn(...get(vectors, \"x\")),\n  y: fn(...get(vectors, \"y\")),\n});\n\nconst add = (...vectors: BinArgOp) => apply(Animated.add, ...vectors);\nconst sub = (...vectors: BinArgOp) => apply(Animated.sub, ...vectors);\nconst dot = (...vectors: BinArgOp) => apply(Animated.multiply, ...vectors);\nconst div = (...vectors: BinArgOp) => apply(Animated.divide, ...vectors);\nconst cos = (...vectors: SingleArgOp) => apply(Animated.cos, ...vectors);\nconst sin = (...vectors: SingleArgOp) => apply(Animated.sin, ...vectors);\nconst min = (vector: Adaptable, value: Animated.Adaptable<number>) =>\n  apply(Animated.min, vector, value);\nconst max = (vector: Adaptable, value: Animated.Adaptable<number>) =>\n  apply(Animated.max, vector, value);\nconst clamp = (value: Adaptable, minVec: Adaptable, maxVec: Adaptable) =>\n  apply(clamp1, value, minVec, maxVec);\n\nconst invert = (a: Adaptable) => dot(-1, a);\n\nconst set = (a: Vector<Animated.Value<number>>, b: Adaptable) =>\n  block([\n    Animated.set(a.x, isAdaptable(b) ? b : b.x),\n    Animated.set(a.y, isAdaptable(b) ? b : b.y),\n  ]);\n\nexport const vec = {\n  create,\n  createValue,\n  invert,\n  add,\n  sub,\n  dot,\n  div,\n  multiply: dot,\n  divide: div,\n  set,\n  clamp,\n  apply,\n  min,\n  max,\n  cos,\n  sin,\n};\n"]}